From 65222d06c0fa76bdbcbcb83831dd2195c19d990a Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Daniel=20N=C3=A9ri?= <dne+commits@rb67.eu>
Date: Fri, 7 Nov 2025 11:58:37 +0100
Subject: [PATCH 1/2] mksquashfs: fix build for big-endian architectures

---
 squashfs-tools/mksquashfs.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/squashfs-tools/mksquashfs.c
+++ b/squashfs-tools/mksquashfs.c
@@ -7313,7 +7313,7 @@ static int sqfstar(int argc, char *argv[
 
 		memset(&sblk, 0, sizeof(struct squashfs_super_block));
 		sblk.s_magic = SQUASHFS_MAGIC_STREAMED;
-		SQUASHFS_INSWAP_SUPER_BLOCK(sblk);
+		SQUASHFS_INSWAP_SUPER_BLOCK(&sblk);
 		write_destination(fd, SQUASHFS_START,
 			sizeof(struct squashfs_super_block), &sblk);
 	}
@@ -8600,7 +8600,7 @@ int main(int argc, char *argv[])
 
 				memset(&sblk, 0, sizeof(struct squashfs_super_block));
 				sblk.s_magic = SQUASHFS_MAGIC_STREAMED;
-				SQUASHFS_INSWAP_SUPER_BLOCK(sblk);
+				SQUASHFS_INSWAP_SUPER_BLOCK(&sblk);
 				write_destination(fd, SQUASHFS_START,
 					sizeof(struct squashfs_super_block), &sblk);
 			}
