if PACKAGE_libmbedtls

comment "Option details in source code: include/mbedtls/mbedtls_config.h"

comment "SECTION: System support"
comment "SECTION: Mbed TLS feature support"
comment "SECTION: Mbed TLS modules"
comment "SECTION: General configuration options"
comment "SECTION: Module configuration options"


comment "Ciphers - unselect to reduce binary size"

config MBEDTLS_AES_C
	bool "AES block cipher"
	default y

config MBEDTLS_ARIA_C
	bool "MBEDTLS_ARIA_C"
	default n

config MBEDTLS_CAMELLIA_C
	bool "Camellia block cipher"
	default n

config MBEDTLS_CCM_C
	bool "CCM mode for 128-bit block cipher"
	default n

config MBEDTLS_GCM_C
	bool "Galois/Counter Mode"
	default y

config MBEDTLS_RIPEMD160_C
	bool "RIPEMD-160 hash algorithm"
	default n

config MBEDTLS_RSA_NO_CRT
	bool "Disable CRT in RSA"
	default y

config MBEDTLS_KEY_EXCHANGE_PSK_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_PSK_ENABLED"
	default y

config MBEDTLS_KEY_EXCHANGE_DHE_PSK_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_DHE_PSK_ENABLED"
	default n

config MBEDTLS_KEY_EXCHANGE_ECDHE_PSK_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_ECDHE_PSK_ENABLED"
	default y

config MBEDTLS_KEY_EXCHANGE_RSA_PSK_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_RSA_PSK_ENABLED"
	default n

config MBEDTLS_KEY_EXCHANGE_RSA_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_RSA_ENABLED"
	default n

config MBEDTLS_KEY_EXCHANGE_DHE_RSA_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_DHE_RSA_ENABLED"
	default n

config MBEDTLS_KEY_EXCHANGE_ECDHE_RSA_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_ECDHE_RSA_ENABLED"
	default y

config MBEDTLS_KEY_EXCHANGE_ECDHE_ECDSA_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_ECDHE_ECDSA_ENABLED"
	default y

config MBEDTLS_KEY_EXCHANGE_ECDH_ECDSA_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_ECDH_ECDSA_ENABLED"
	default n

config MBEDTLS_KEY_EXCHANGE_ECDH_RSA_ENABLED
	bool "MBEDTLS_KEY_EXCHANGE_ECDH_RSA_ENABLED"
	default n

comment "Ciphers - old"

config MBEDTLS_CMAC_C
	bool "CMAC mode for block ciphers (old but used by hostapd)"
	default y

config MBEDTLS_DES_C
	bool "DES block cipher (old but used by hostapd)"
	default y

config MBEDTLS_NIST_KW_C
	bool "NIST SP 800-38F KW and KWP mode (old but used by hostapd)"
	default y

comment "Curves - unselect old or less-used curves to reduce binary size"

config MBEDTLS_ECP_DP_SECP192R1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP192R1_ENABLED"
	default n

config MBEDTLS_ECP_DP_SECP224R1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP224R1_ENABLED"
	default n

config MBEDTLS_ECP_DP_SECP256R1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP256R1_ENABLED"
	default y

config MBEDTLS_ECP_DP_SECP384R1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP384R1_ENABLED"
	default y

config MBEDTLS_ECP_DP_SECP521R1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP521R1_ENABLED"
	default y

config MBEDTLS_ECP_DP_SECP192K1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP192K1_ENABLED"
	default n

config MBEDTLS_ECP_DP_SECP224K1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP224K1_ENABLED"
	default n

config MBEDTLS_ECP_DP_SECP256K1_ENABLED
	bool "MBEDTLS_ECP_DP_SECP256K1_ENABLED"
	default y

config MBEDTLS_ECP_DP_BP256R1_ENABLED
	bool "MBEDTLS_ECP_DP_BP256R1_ENABLED"
	default n

config MBEDTLS_ECP_DP_BP384R1_ENABLED
	bool "MBEDTLS_ECP_DP_BP384R1_ENABLED"
	default n

config MBEDTLS_ECP_DP_BP512R1_ENABLED
	bool "MBEDTLS_ECP_DP_BP512R1_ENABLED"
	default n

config MBEDTLS_ECP_DP_CURVE25519_ENABLED
	bool "MBEDTLS_ECP_DP_CURVE25519_ENABLED"
	default y

config MBEDTLS_ECP_DP_CURVE448_ENABLED
	bool "MBEDTLS_ECP_DP_CURVE448_ENABLED"
	default n

comment "Build Options - unselect features to reduce binary size"

config MBEDTLS_CIPHER_MODE_OFB
	bool "MBEDTLS_CIPHER_MODE_OFB"
	default n

config MBEDTLS_CIPHER_MODE_XTS
	bool "MBEDTLS_CIPHER_MODE_XTS"
	default n

config MBEDTLS_DEBUG_C
	bool "MBEDTLS_DEBUG_C"
	default n

config MBEDTLS_HKDF_C
	bool "MBEDTLS_HKDF_C"
	default n

config MBEDTLS_PLATFORM_C
	bool "MBEDTLS_PLATFORM_C"
	default n

config MBEDTLS_SELF_TEST
	bool "MBEDTLS_SELF_TEST"
	default n

config MBEDTLS_THREADING_C
	bool "MBEDTLS_THREADING_C"
	default y

config MBEDTLS_THREADING_PTHREAD
	def_bool MBEDTLS_THREADING_C

config MBEDTLS_VERSION_C
	bool "MBEDTLS_VERSION_C"
	default n

config MBEDTLS_VERSION_FEATURES
	bool "MBEDTLS_VERSION_FEATURES"
	default n

config MBEDTLS_PSA_CRYPTO_CLIENT
	bool "MBEDTLS_PSA_CRYPTO_CLIENT"

config MBEDTLS_DEPRECATED_WARNING
	bool "MBEDTLS_DEPRECATED_WARNING"
	default n
  help
		Mark deprecated functions and features so that they generate a warning if
		used. Functionality deprecated in one version will usually be removed in the
		next version. You can enable this to help you prepare the transition to a
		new major version by making sure your code is not using this functionality.

		This only works with GCC and Clang. With other compilers, you may want to
		use MBEDTLS_DEPRECATED_REMOVED

config MBEDTLS_SSL_PROTO_TLS1_2
	bool "MBEDTLS_SSL_PROTO_TLS1_2"
	default y

config MBEDTLS_SSL_PROTO_TLS1_3
	bool "MBEDTLS_SSL_PROTO_TLS1_3"
	select MBEDTLS_PSA_CRYPTO_CLIENT
	select MBEDTLS_HKDF_C
	default y

config MBEDTLS_SSL_TLS1_3_COMPATIBILITY_MODE
	bool "MBEDTLS_SSL_TLS1_3_COMPATIBILITY_MODE"
	depends on MBEDTLS_SSL_PROTO_TLS1_3
	default y

config MBEDTLS_SSL_TLS1_3_KEY_EXCHANGE_MODE_PSK_ENABLED
	bool "MBEDTLS_SSL_TLS1_3_KEY_EXCHANGE_MODE_PSK_ENABLED"
	depends on MBEDTLS_SSL_PROTO_TLS1_3
	default y

config MBEDTLS_SSL_TLS1_3_KEY_EXCHANGE_MODE_EPHEMERAL_ENABLED
	bool "MBEDTLS_SSL_TLS1_3_KEY_EXCHANGE_MODE_EPHEMERAL_ENABLED"
	depends on MBEDTLS_SSL_PROTO_TLS1_3
	default y

config MBEDTLS_SSL_TLS1_3_KEY_EXCHANGE_MODE_PSK_EPHEMERAL_ENABLED
	bool "MBEDTLS_SSL_TLS1_3_KEY_EXCHANGE_MODE_PSK_EPHEMERAL_ENABLED"
	depends on MBEDTLS_SSL_PROTO_TLS1_3
	default y

comment "Build Options"

config MBEDTLS_ENTROPY_FORCE_SHA256
	bool "MBEDTLS_ENTROPY_FORCE_SHA256"
	default y

config MBEDTLS_SSL_RENEGOTIATION
	bool "MBEDTLS_SSL_RENEGOTIATION"
	depends on MBEDTLS_SSL_PROTO_TLS1_2
	default n

endif
