// SPDX-License-Identifier: GPL-2.0-only
// Device Tree Source for Meraki Z3 (Fuzzy Cricket)

#include "qcom-ipq4029-meraki-insect.dtsi"

/ {
	model = "Meraki Z3 Router";
	compatible = "meraki,z3";

	soc {
		ess_tcsr@1953000 {
			qcom,ess-interface-select = <TCSR_ESS_PSGMII>;
		};

		tcsr@194b000 {
			/* select hostmode */
			compatible = "qcom,tcsr";
			reg = <0x194b000 0x100>;
			qcom,usb-hsphy-mode-select = <TCSR_USB_HSPHY_HOST_MODE>;
			status = "okay";
		};
	};

	leds {
		compatible = "gpio-leds";

		power_orange: power {
			color = <LED_COLOR_ID_AMBER>;
			function = LED_FUNCTION_POWER;
			gpios = <&tlmm 49 GPIO_ACTIVE_LOW>;
			panic-indicator;
		};

		led-1 {
			/* WAN left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_WAN;
			function-enumerator = <0>;
			gpios = <&tlmm 46 GPIO_ACTIVE_LOW>;
		};

		led-2 {
			/* WAN right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_WAN;
			function-enumerator = <1>;
			gpios = <&tlmm 30 GPIO_ACTIVE_LOW>;
		};

		led-3 {
			/* port 2 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <2>;
			gpios = <&tlmm 23 GPIO_ACTIVE_LOW>;
		};

		led-4 {
			/* port 2 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <3>;
			gpios = <&tlmm 22 GPIO_ACTIVE_LOW>;
		};

		led-5 {
			/* port 3 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <4>;
			gpios = <&tlmm 25 GPIO_ACTIVE_LOW>;
		};

		led-6 {
			/* port 3 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <5>;
			gpios = <&tlmm 24 GPIO_ACTIVE_LOW>;
		};

		led-7 {
			/* port 4 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <6>;
			gpios = <&tlmm 29 GPIO_ACTIVE_LOW>;
		};

		led-8 {
			/* port 4 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <7>;
			gpios = <&tlmm 26 GPIO_ACTIVE_LOW>;
		};

		led-9 {
			/* port 5 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <8>;
			gpios = <&tlmm 33 GPIO_ACTIVE_LOW>;
		};

		led-10 {
			/* port 5 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <9>;
			gpios = <&tlmm 32 GPIO_ACTIVE_LOW>;
		};
	};
};

&tricolor {
	enable-gpio = <&tlmm 48 GPIO_ACTIVE_HIGH>;
};

&usb2_hs_phy {
	status = "okay";
};

&usb2 {
	status = "okay";
};

&usb3_hs_phy {
	status = "okay";
};

&usb3_ss_phy {
	status = "okay";
};

&usb3 {
	status = "okay";
};

&swport1 {
	label = "wan";
	status = "okay";
};

&swport2 {
	label = "lan2";
	status = "okay";
};

&swport3 {
	label = "lan3";
	status = "okay";
};

&swport4 {
	label = "lan4";
	status = "okay";
};

&swport5 {
	label = "lan5";
	status = "okay";
};

&wifi0 {
	status = "okay";
	qcom,ath10k-calibration-variant = "Meraki-Z3";
};

&wifi1 {
	status = "okay";
	qcom,ath10k-calibration-variant = "Meraki-Z3";
};
